{"version":3,"sources":["assets/twitter-logo.svg","App.js","index.js"],"names":["TWITTER_HANDLE","TWITTER_LINK","ETH","window","ethereum","CONTRACT_ADDRESS","OPENSEA_LINK","NoMetaMask","WrongNetwork","className","NotConnected","connect","onClick","MintUI","api","mint","count","useState","busy","setBusy","url","setUrl","remaining","setRemaining","starting","cardinality","qualified","a","undefined","tokenId","n","useEffect","then","minted","disabled","target","rel","href","App","connection","setConnection","able","authorized","network","checkConnection","request","method","length","chain","console","error","useMemo","signer","ethers","providers","Web3Provider","getSigner","contract","Contract","MyEpicNFT","abi","makeAnEpicNFT","txn","wait","receipt","info","hash","events","args","toNumber","getMintedCount","on","removeListener","alt","src","twitterLogo","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.02883f16.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/twitter-logo.a8a75254.svg\";","import './styles/App.css';\nimport twitterLogo from './assets/twitter-logo.svg';\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport { ethers } from \"ethers\";\nimport MyEpicNFT from \"./MyEpicNFT.json\";\n\n// Constants\nconst TWITTER_HANDLE = '_buildspace';\nconst TWITTER_LINK = `https://twitter.com/${TWITTER_HANDLE}`;\nconst TOTAL_MINT_COUNT = 50;\nconst ETH = window.ethereum;\nconst RINKEBY_ID = \"0x4\";\nconst CONTRACT_ADDRESS = \"0x6b83553fbf4D05ee24d3815Bf2B2eBC4c28f8F0D\";\nconst OPENSEA_LINK = `https://testnets.opensea.io/assets/${CONTRACT_ADDRESS}/`;\n\nconst App = () => {\n  const [connection, setConnection] = useState([]);\n  const [able, authorized, network] = connection;\n\n  async function checkConnection() {\n    if (!ETH) {\n      setConnection([false]);\n      return;\n    }\n    let accounts = await ETH.request({ method: \"eth_accounts\" });\n    if (!accounts.length) {\n      setConnection([true, false]);\n    }\n    else {\n      let chain = await ETH.request({ method: \"eth_chainId\" });\n      setConnection([true, true, chain]);\n    }\n  }\n\n  async function connect() {\n    if (able && !authorized) {\n      try {\n        await ETH.request({ method: \"eth_requestAccounts\" });\n        let chain = await ETH.request({ method: \"eth_chainId\" });\n        setConnection([true, true, chain]);\n      }\n      catch (e) {\n        console.error(e);\n      }\n    }\n  }\n\n  const api = useMemo(() => {\n    if (!able || !authorized || network !== RINKEBY_ID) {\n      return null;\n    }\n    const provider = new ethers.providers.Web3Provider(ETH);\n    const signer = provider.getSigner();\n    const contract = new ethers.Contract(CONTRACT_ADDRESS, MyEpicNFT.abi, signer);\n    return {\n      async mint() {\n        try {\n          let txn = await contract.makeAnEpicNFT();\n          let receipt = await txn.wait();\n          console.info(\"NFT minted!\", `https://rinkeby.etherscan.io/tx/${txn.hash}`);\n          return receipt.events[0].args.tokenId.toNumber();\n        }\n        catch (e) {\n          console.error(e);\n        }\n      },\n\n      async count() {\n        try {\n          return await contract.getMintedCount();\n        }\n        catch (e) {\n          console.error(e);\n          return 0;\n        }\n      },\n    };\n  }, [able, authorized, network]);\n\n  useEffect(() => {\n    checkConnection();\n    if (ETH) {\n      ETH.on(\"chainChanged\", checkConnection);\n      return () => ETH.removeListener(\"chainChanged\", checkConnection);\n    }\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <div className=\"header-container\">\n          <p className=\"header gradient-text\">My NFT Collection</p>\n          <p className=\"sub-text\">\n            Each unique. Each beautiful. Discover your NFT today.\n          </p>\n          {!connection.length ? null : !able ? (\n            <NoMetaMask />\n          ) : network !== RINKEBY_ID ? (\n            <WrongNetwork />\n          ) : !authorized ? (\n            <NotConnected connect={connect} />\n          ) : (\n            <MintUI api={api} />\n          )}\n        </div>\n        <div className=\"footer-container\">\n          <img alt=\"Twitter Logo\" className=\"twitter-logo\" src={twitterLogo} />\n          <a\n            className=\"footer-text\"\n            href={TWITTER_LINK}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >{`built on @${TWITTER_HANDLE}`}</a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nfunction NoMetaMask() {\n  return (\n    <h4>Please install <strong>MetaMask</strong> to proceed</h4>\n  );\n}\n\nfunction WrongNetwork() {\n  return (\n    <section className=\"sub-text\">\n      <h1>⚠️ Wrong network!</h1>\n      <p>Please switch to the <strong>Rinkeby</strong> testnet to proceed</p>\n    </section>\n  );\n}\n\nfunction NotConnected({ connect }) {\n  return (\n    <button className=\"cta-button connect-wallet-button\" onClick={connect}>\n      Connect to Wallet\n    </button>\n  );\n}\n\nfunction MintUI({ api: { mint, count } }) {\n  const [busy, setBusy] = useState(false);\n  const [url, setUrl] = useState();\n  const [remaining, setRemaining] = useState(-1);\n  const starting = remaining === -1;\n  const cardinality = remaining === 1 ? \"token\" : \"tokens\";\n  const qualified = remaining < 10 ? `Only ${remaining}` : \"\" + remaining;\n\n  async function action() {\n    setBusy(true);\n    let tokenId = await mint();\n    if (tokenId !== undefined) {\n      setRemaining((n) => n - 1);\n      setUrl(OPENSEA_LINK + tokenId);\n    }\n    else {\n      setUrl(undefined);\n    }\n    setBusy(false);\n  }\n\n  useEffect(() => {\n    if (starting) {\n      count().then((minted) => setRemaining(TOTAL_MINT_COUNT - minted));\n    }\n  }, [starting, count]);\n\n  return (<>\n    <button onClick={action} className=\"cta-button connect-wallet-button\" disabled={busy || remaining < 1}>\n      {busy ? \"minting...\" : \"Mint NFT\"}\n    </button>\n    {remaining > 0 ? (\n      <section className=\"standfirst\">\n        <h1>Hurry while supplies last!</h1>\n        <p>{qualified} {cardinality} remaining</p>\n      </section>\n    ) : remaining === 0 ? (\n      <h1>We ran out of tokens! Sorry!</h1>\n    ) : null}\n    {url ? (\n      <section className=\"result\">\n        <h1>NFT Minted!</h1>\n        <p>Check it out at <a target=\"_blank\" rel=\"noopener noreferrer\" href={url}>OpenSea</a>.</p>\n      </section>\n    ) : null}\n  </>);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}