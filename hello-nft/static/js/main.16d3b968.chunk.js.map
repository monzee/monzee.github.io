{"version":3,"sources":["assets/twitter-logo.svg","App.js","assets/GitHub-Mark-Light-64px.png","index.js"],"names":["TWITTER_HANDLE","TWITTER_LINK","ETH","window","ethereum","CONTRACT_ADDRESS","OPENSEA_LINK","NoMetaMask","WrongNetwork","NotConnected","connect","className","onClick","MintClient","api","slot","useState","busy","setBusy","url","setUrl","remaining","setRemaining","units","availability","a","mint","tokenId","undefined","useEffect","count","then","minted","onNewMint","n","disabled","createPortal","target","rel","href","current","App","state","setState","able","authorized","network","mainNode","useRef","checkConnection","request","method","length","chain","console","error","useMemo","signer","ethers","providers","Web3Provider","getSigner","contract","Contract","MyEpicNFT","abi","makeAnEpicNFT","txn","wait","receipt","events","event","args","toNumber","code","getMintedCount","accept","on","removeListener","src","alt","ref","twitterLogo","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qrxEAAe,G,MAAA,IAA0B,0C,uBCUnCA,EAAiB,cACjBC,EAAY,8BAA0BD,GAEtCE,EAAMC,OAAOC,SAGbC,EAAmB,6CACnBC,EAAY,6CAAyCD,EAAzC,KA8HlB,SAASE,IACP,OACE,iDAAmB,8CAAnB,iBAKJ,SAASC,IACP,OACE,oCACE,6DACA,sDAAwB,6CAAxB,4BAMN,SAASC,EAAT,GAAoC,IAAZC,EAAW,EAAXA,QACtB,OACE,wBAAQC,UAAU,mCAAmCC,QAASF,EAA9D,+BAOJ,SAASG,EAAT,GAAoC,IAAdC,EAAa,EAAbA,IAAKC,EAAQ,EAARA,KACzB,EAAwBC,oBAAS,GAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAsBF,qBAAtB,mBAAOG,EAAP,KAAYC,EAAZ,KACA,EAAkCJ,oBAAU,GAA5C,mBAAOK,EAAP,KAAkBC,EAAlB,KACMC,EAAsB,IAAdF,EAAkB,QAAU,SACpCG,EAAeH,EAAY,GAAZ,eACXA,EADW,YACEE,EADF,oBAEhBF,EAFgB,YAEHE,EAFG,SALY,4CASjC,4BAAAE,EAAA,6DACEP,GAAQ,GACRE,EAAO,MAFT,SAGsBN,EAAIY,OAH1B,OAGMC,EAHN,OAIEP,OAAmBQ,IAAZD,OAAwBC,EAAatB,EAAeqB,GAC3DT,GAAQ,GALV,4CATiC,sBAsBjC,OALAW,qBAAU,WAER,OADAf,EAAIgB,QAAQC,MAAK,SAACC,GAAD,OAAYV,EA/KR,GA+KwCU,MACtDlB,EAAImB,WAAU,kBAAMX,GAAa,SAACY,GAAD,OAAOA,EAAI,UAClD,CAACpB,IAGF,qCACE,wBACEF,QAzB2B,2CA0B3BD,UAAU,mCACVwB,SAAUlB,GAAQI,EAAY,EAHhC,SAKGJ,EAAO,aAAe,aAExBI,EAAY,EACX,oCACE,4DACA,4BAAIG,OAEU,IAAdH,EACF,8DACE,KACHF,GAAOiB,uBACN,0BAASzB,UAAU,SAAnB,UACE,6CACA,iDACkB,mBAAG0B,OAAO,SAASC,IAAI,sBAAsBC,KAAMpB,EAAnD,qBADlB,UAIFJ,EAAKyB,YAOEC,MA1Mf,WACE,MAA0BzB,mBAAS,IAAnC,mBAAO0B,EAAP,KAAcC,EAAd,KACA,cAAoCD,EAApC,GAAOE,EAAP,KAAaC,EAAb,KAAyBC,EAAzB,KACMC,EAAWC,mBAHJ,SAKEC,IALF,2EAKb,4BAAAxB,EAAA,yDACOvB,EADP,uBAEIyC,EAAS,EAAC,IAFd,0CAKuBzC,EAAIgD,QAAQ,CAAEC,OAAQ,iBAL7C,iBAMgBC,OANhB,iBAOIT,EAAS,EAAC,GAAM,IAPpB,yCAUsBzC,EAAIgD,QAAQ,CAAEC,OAAQ,gBAV5C,QAUQE,EAVR,OAWIV,EAAS,EAAC,GAAM,EAAMU,IAX1B,6CALa,kEAoBb,4BAAA5B,EAAA,0DACMmB,GAASC,EADf,0CAGY3C,EAAIgD,QAAQ,CAAEC,OAAQ,wBAHlC,uBAIwBjD,EAAIgD,QAAQ,CAAEC,OAAQ,gBAJ9C,OAIUE,EAJV,OAKMV,EAAS,EAAC,GAAM,EAAMU,IAL5B,kDAQMC,QAAQC,MAAR,MARN,2DApBa,sBAiCb,IAAMzC,EAAM0C,mBAAQ,WAClB,IAAKZ,IAASC,GAxCC,QAwCaC,EAC1B,OAAO,KAET,IACMW,EADW,IAAIC,IAAOC,UAAUC,aAAa1D,GAC3B2D,YAClBC,EAAW,IAAIJ,IAAOK,SAAS1D,EAAkB2D,EAAUC,IAAKR,GACtE,MAAO,CACC/B,KADD,WACS,OAAD,+IAEOoC,EAASI,gBAFhB,cAELC,EAFK,gBAGWA,EAAIC,OAHf,OAGLC,EAHK,qBAImBA,EAAQC,QAJ3B,uEAIEC,EAJF,EAIEA,MAAOC,EAJT,EAISA,KACF,qBAAVD,EALG,0CAMEC,EAAK7C,QAAQ8C,YANf,kMAWTnB,QAAQC,MAAR,MAzDU,OA0DN,KAAEmB,MACJzB,IAbO,0EAkBPnB,MAnBD,WAmBU,OAAD,6HAEGgC,EAASa,iBAFZ,+EAKVrB,QAAQC,MAAR,MACAN,IANU,kBAOH,GAPG,4DAWdhB,UA9BK,SA8BK2C,GAER,OADAd,EAASe,GAAG,mBAAoBD,GACzB,kBAAMd,EAASgB,eAAe,mBAAoBF,QAG5D,CAAChC,EAAMC,EAAYC,IAUtB,OARAjB,qBAAU,WAER,GADAoB,IACI/C,EAEF,OADAA,EAAI2E,GAAG,eAAgB5B,GAChB,kBAAM/C,EAAI4E,eAAe,eAAgB7B,MAEjD,IAGD,qBAAKtC,UAAU,MAAf,SACE,sBAAKA,UAAU,YAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,mBAAGA,UAAU,uBAAb,+BACA,mBAAGA,UAAU,WAAb,SACE,oBAAG4B,KAtGK,mDAsGcF,OAAO,SAASC,IAAI,sBAA1C,UACE,qBAAKyC,IChHJ,6jGDgHqBC,IAAI,gBAD5B,8BAIAtC,EAAMU,OAAiBR,EAEpBC,EAvGI,QAyGLC,EACF,cAACtC,EAAD,IAEA,cAACK,EAAD,CAAYC,IAAKA,EAAKC,KAAMgC,IAJ5B,cAACtC,EAAD,CAAcC,QAlGX,6CAgGH,cAACH,EAAD,IADe,QAUnB,sBAAM0E,IAAKlC,IACX,sBAAKpC,UAAU,mBAAf,UACE,qBAAKqE,IAAI,eAAerE,UAAU,eAAeoE,IAAKG,IACtD,oBACEvE,UAAU,cACV4B,KAAMtC,EACNoC,OAAO,SACPC,IAAI,sBAJN,uBAMatC,cEjIvBmF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.16d3b968.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/twitter-logo.a8a75254.svg\";","import './styles/App.css';\nimport twitterLogo from './assets/twitter-logo.svg';\nimport githubMark from \"./assets/GitHub-Mark-Light-64px.png\";\nimport React, { useEffect, useState, useMemo, useRef } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { ethers } from \"ethers\";\nimport MyEpicNFT from \"./MyEpicNFT.json\";\n\n\nconst GITHUB_LINK = \"https://github.com/monzee/buildspace-nft-project\";\nconst TWITTER_HANDLE = '_buildspace';\nconst TWITTER_LINK = `https://twitter.com/${TWITTER_HANDLE}`;\nconst TOTAL_MINT_COUNT = 50;\nconst ETH = window.ethereum;\nconst RINKEBY_ID = \"0x4\";\nconst USER_DENIED = 4001;\nconst CONTRACT_ADDRESS = \"0x6b83553fbf4D05ee24d3815Bf2B2eBC4c28f8F0D\";\nconst OPENSEA_LINK = `https://testnets.opensea.io/assets/${CONTRACT_ADDRESS}/`;\n\n\nfunction App() {\n  const [state, setState] = useState([]);\n  const [able, authorized, network] = state;\n  const mainNode = useRef();\n\n  async function checkConnection() {\n    if (!ETH) {\n      setState([false]);\n      return;\n    }\n    let accounts = await ETH.request({ method: \"eth_accounts\" });\n    if (!accounts.length) {\n      setState([true, false]);\n    }\n    else {\n      let chain = await ETH.request({ method: \"eth_chainId\" });\n      setState([true, true, chain]);\n    }\n  }\n\n  async function connect() {\n    if (able && !authorized) {\n      try {\n        await ETH.request({ method: \"eth_requestAccounts\" });\n        let chain = await ETH.request({ method: \"eth_chainId\" });\n        setState([true, true, chain]);\n      }\n      catch (e) {\n        console.error(e);\n      }\n    }\n  }\n\n  const api = useMemo(() => {\n    if (!able || !authorized || network !== RINKEBY_ID) {\n      return null;\n    }\n    const provider = new ethers.providers.Web3Provider(ETH);\n    const signer = provider.getSigner();\n    const contract = new ethers.Contract(CONTRACT_ADDRESS, MyEpicNFT.abi, signer);\n    return {\n      async mint() {\n        try {\n          let txn = await contract.makeAnEpicNFT();\n          let receipt = await txn.wait();\n          for (let { event, args } of receipt.events) {\n            if (event === \"NewEpicNFTMinted\") {\n              return args.tokenId.toNumber();\n            }\n          }\n        }\n        catch (e) {\n          console.error(e);\n          if (e.code !== USER_DENIED) {\n            checkConnection();\n          }\n        }\n      },\n\n      async count() {\n        try {\n          return await contract.getMintedCount();\n        }\n        catch (e) {\n          console.error(e);\n          checkConnection();\n          return 0;\n        }\n      },\n\n      onNewMint(accept) {\n        contract.on(\"NewEpicNFTMinted\", accept);\n        return () => contract.removeListener(\"NewEpicNFTMinted\", accept);\n      },\n    };\n  }, [able, authorized, network]);\n\n  useEffect(() => {\n    checkConnection();\n    if (ETH) {\n      ETH.on(\"chainChanged\", checkConnection);\n      return () => ETH.removeListener(\"chainChanged\", checkConnection);\n    }\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <div className=\"header-container\">\n          <p className=\"header gradient-text\">My NFT Collection</p>\n          <p className=\"sub-text\">\n            <a href={GITHUB_LINK} target=\"_blank\" rel=\"noopener noreferrer\">\n              <img src={githubMark} alt=\"GitHub mark\" /> Check out the source.\n            </a>\n          </p>\n          {!state.length ? null : !able ? (\n            <NoMetaMask />\n          ) : !authorized ? (\n            <NotConnected connect={connect} />\n          ) : network !== RINKEBY_ID ? (\n            <WrongNetwork />\n          ) : (\n            <MintClient api={api} slot={mainNode} />\n          )}\n        </div>\n        <main ref={mainNode}></main>\n        <div className=\"footer-container\">\n          <img alt=\"Twitter Logo\" className=\"twitter-logo\" src={twitterLogo} />\n          <a\n            className=\"footer-text\"\n            href={TWITTER_LINK}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            built on @{TWITTER_HANDLE}\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nfunction NoMetaMask() {\n  return (\n    <h4>Please install <strong>MetaMask</strong> to proceed</h4>\n  );\n}\n\n\nfunction WrongNetwork() {\n  return (\n    <section>\n      <h1>⚠️ Wrong network!</h1>\n      <p>Please switch to the <strong>Rinkeby</strong> testnet to proceed</p>\n    </section>\n  );\n}\n\n\nfunction NotConnected({ connect }) {\n  return (\n    <button className=\"cta-button connect-wallet-button\" onClick={connect}>\n      Connect to Wallet\n    </button>\n  );\n}\n\n\nfunction MintClient({ api, slot }) {\n  const [busy, setBusy] = useState(false);\n  const [url, setUrl] = useState();\n  const [remaining, setRemaining] = useState(-1);\n  const units = remaining === 1 ? \"token\" : \"tokens\";\n  const availability = remaining < 10 ?\n    `Only ${remaining} ${units} left!` :\n    `${remaining} ${units} left`;\n\n  async function action() {\n    setBusy(true);\n    setUrl(null);\n    let tokenId = await api.mint();\n    setUrl(tokenId === undefined ? undefined : (OPENSEA_LINK + tokenId));\n    setBusy(false);\n  }\n\n  useEffect(() => {\n    api.count().then((minted) => setRemaining(TOTAL_MINT_COUNT - minted));\n    return api.onNewMint(() => setRemaining((n) => n - 1));\n  }, [api]);\n\n  return (\n    <>\n      <button\n        onClick={action}\n        className=\"cta-button connect-wallet-button\"\n        disabled={busy || remaining < 1}\n      >\n        {busy ? \"Minting...\" : \"Mint NFT\"}\n      </button>\n      {remaining > 0 ? (\n        <section>\n          <h1>Hurry while supplies last!</h1>\n          <p>{availability}</p>\n        </section>\n      ) : remaining === 0 ? (\n        <h1>We ran out of tokens! Sorry!</h1>\n      ) : null}\n      {url && createPortal(\n        <section className=\"result\">\n          <h1>NFT Minted!</h1>\n          <p>\n            Check it out at <a target=\"_blank\" rel=\"noopener noreferrer\" href={url}>OpenSea</a>.\n          </p>\n        </section>,\n        slot.current\n      )}\n    </>\n  );\n}\n\n\nexport default App;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII=\"","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}